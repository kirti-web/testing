import { Browser, getBrowserHeaders, setSecFetchHeaders } from 'ts-device-utils';

export const SESSION_ID_COOKIE_DOMAIN = 'https://www.dominos.com/en/index';
export const LOGIN_QUERY = '\n  \n  fragment LoyaltyFields on CustomerLoyalty {\n    AccountStatus\n    BasePointExpirationDate\n    EnrollDate\n    LastActivityDate\n    LoyaltyCoupons {\n      BaseCoupon\n      CouponCode\n      LimitPerOrder\n      PointValue\n    }\n    PendingPointBalance\n    VestedPointBalance\n  }\n\n  \n  \n  fragment CardFields on HistoricalCard {\n    id\n    nickName\n  }\n\n  \n  fragment OrderFields on HistoricalOrder {\n    Address {\n      BuildingID\n      CampusID\n      City\n      DeliveryInstructions\n      IsDefault\n      OrganizationName\n      PostalCode\n      Region\n      Street\n      StreetName\n      StreetNumber\n      Type\n      UnitNumber\n      UnitType\n    }\n    BusinessDate\n    Coupons {\n      Code\n      ID\n      Qty\n      Tags {\n        Hash\n      }\n    }\n    DeliveryHotspot {\n      Description\n      Id\n      Name\n    }\n    OrderID\n    OrderMessages {\n      Message\n      MessageCategory\n    }\n    OrderMethod\n    Payments {\n      CardID\n      CardType\n      Type\n    }\n    Phone\n    Products {\n      CategoryCode\n      Code\n      ID\n      Options\n      Qty\n      Tags {\n        couponHash\n      }\n      descriptions {\n        portionCode\n        value\n      }\n      name\n    }\n    PlaceOrderTime\n    ServiceMethod\n    StoreID\n  }\n\n  \n  fragment StoreFields on HistoricalStore {\n    address {\n      City\n      PostalCode\n      Region\n      Street\n    }\n    storeName\n  }\n\n\n  fragment OrderHistoryFields on OrderHistory {\n    customerOrders {\n      addressNickName\n      cards {\n        ...CardFields\n      }\n      deliveryInstructions\n      id\n      order {\n        ...OrderFields\n      }\n      store {\n        ...StoreFields\n      }\n    }\n    easyOrder {\n      addressNickName\n      cards {\n        ...CardFields\n      }\n      deliveryInstructions\n      order {\n        ...OrderFields\n      }\n      easyOrder\n      easyOrderNickName\n      id\n      store {\n        ...StoreFields\n      }\n    }\n    products\n    productsByCategory {\n      category\n      productKeys\n    }\n    productsByFrequencyRecency {\n      frequency\n      productKey\n    }\n  }\n\n\n  query detailedLogin($input: LoginInput) {\n    detailedLogin(input: $input) {\n      Customer {\n        Addresses {\n          AddressLine1\n          AddressLine2\n          AddressLine3\n          AddressLine4\n          BuildingID\n          CampusID\n          City\n          Coordinates {\n            Latitude\n            Longitude\n          }\n          DeliveryInstructions\n          IsDefault\n          LocationName\n          Name\n          Neighborhood\n          PlaceType\n          PostalCode\n          PropertyNumber\n          PropertyType\n          Region\n          SectorName\n          Street\n          StreetAddress2\n          StreetField1\n          StreetField2\n          StreetName\n          StreetNumber\n          StreetRange\n          SubNeighborhood\n          Type\n          UnitNumber\n          UnitType\n          UpdateTime\n        }\n        Age13OrOlder\n        AgreeToTermsOfUse\n        AlternateExtension\n        AlternatePhone\n        AsOfTime\n        BirthDate\n        CustomerID\n        CustomerIdentifiers\n        Details\n        Email\n        EmailOptIn\n        EmailOptInTime\n        Extension\n        FirstName\n        Gender\n        IPAddress\n        LastLogin\n        LastName\n        Loyalty {\n          ...LoyaltyFields\n        }\n        Market\n        Nonce\n        Phone\n        PhonePrefix\n        Status\n        SmsOptIn\n        SmsOptInTime\n        SmsPhone\n        StJudeRoundUp\n        TaxInformation\n        Type\n        UpdateTime\n        URL\n        Vehicles {\n          Color\n          IsDefault\n          Make\n          Model\n          PreferredLocation\n        }\n      }\n      OrderHistory {\n        ...OrderHistoryFields\n      }\n      accessToken\n      digitalWallet\n      errors\n      refreshToken\n    }\n  }\n'

export const defaultHeaders = (browser: Browser, sessionId?: string) => ({
  ...getBrowserHeaders(browser),
  ...setSecFetchHeaders({ 'sec-gpc': '1' }, 'same-origin', 'cors', 'empty'), // site, mode, dest
  accept: '*/*',
});
